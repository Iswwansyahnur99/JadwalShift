<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cari Jadwal Pribadi TVRI</title>
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/TVRI_2020.svg/1200px-TVRI_2020.svg.png" type="image/png">
    <style>
        /* --- CSS Variables for Theming (Light and Dark Mode) --- */
        :root {
            /* Light Mode Colors - Inspired by TVRI Blue (#00508C) & Red (#DC2F2F) */
            --bg-color: #e6f0f5; /* Very light blue-grey background */
            --container-bg: #ffffff;
            --text-color: #333;
            --primary-blue: #00508C; /* Dominant TVRI Blue */
            --secondary-red: #DC2F2F; /* TVRI Red for accents */
            --card-bg: #f5fafd; /* Lighter blue for cards */
            --card-border: #d0e0e9;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --border-light: #e0eaf2;
            --sub-heading-color: #003a66;
            --empty-msg-bg: #f9f9f9;
            --empty-msg-color: #777;

            /* Pop-up specific colors */
            --popup-overlay-bg: rgba(0, 0, 0, 0.7);
            --popup-bg: #ffffff;
            --popup-text-color: #333;

            /* Search bar colors */
            --search-border: #c9d6e4;
            --search-focus-border: var(--primary-blue);

            /* Shift Status Colors (for personal schedule) */
            --status-jaga-color: #28a745; /* Green */
            --status-libur-color: #dc3545; /* Red */
            --status-tidak-jaga-color: #ffc107; /* Orange */
        }

        /* --- Dark Mode Colors --- */
        body.dark-mode {
            --bg-color: #212121;
            --container-bg: #2d2d2d;
            --text-color: #e0e0e0;
            --primary-blue: #4FA8D8; /* Lighter blue for dark mode */
            --secondary-red: #F15E6E; /* Lighter red for dark mode */
            --card-bg: #3c3c3c;
            --card-border: #555555;
            --shadow-color: rgba(0, 0, 0, 0.4);
            --border-light: #3a3a3a;
            --sub-heading-color: #a0d8f0;
            --empty-msg-bg: #3a3a3a;
            --empty-msg-color: #a0a0a0;
            --popup-overlay-bg: rgba(0, 0, 0, 0.9);
            --popup-bg: #3a3a3a;
            --popup-text-color: #e0e0e0;

            --search-border: #555;
            --search-focus-border: var(--primary-blue);

            --status-jaga-color: #4caf50;
            --status-libur-color: #f44336;
            --status-tidak-jaga-color: #ff9800;
        }

        /* --- Global Styles --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
            /* Placeholder background image - you can remove or replace this */
            background-image: url('https://source.unsplash.com/random/1600x900/?broadcasting,studio,controlroom');
            background-size: cover;
            background-attachment: fixed; /* Parallax-like effect */
            background-position: center center;
        }

        /* --- Main Containers --- */
        .main-content-wrapper {
            max-width: 650px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container { /* Renamed from .container to apply only to outer wrapper */
            background-color: var(--container-bg);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px var(--shadow-color);
            width: 100%;
            text-align: center;
            margin-bottom: 30px;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }

        /* --- Navigation Bar --- */
        .navbar {
            background-color: var(--primary-blue);
            width: 100%;
            max-width: 650px; /* Match container width */
            border-radius: 12px 12px 0 0; /* Rounded top, flat bottom */
            padding: 10px 0;
            margin-bottom: -15px; /* Overlap with container below */
            z-index: 10; /* Ensure it's above container's shadow */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        .navbar a {
            color: white;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 8px;
            transition: background-color 0.2s ease;
            font-weight: bold;
        }
        .navbar a:hover {
            background-color: var(--sub-heading-color);
        }
        .navbar a.active-nav {
            background-color: var(--sub-heading-color);
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
        }

        /* --- Header Section (for search.html) --- */
        .header {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
            padding-top: 15px; /* Space from navbar */
        }

        .logo {
            width: 80px; /* Adjust size as needed */
            height: auto;
            margin-bottom: 10px;
        }

        h1 {
            color: var(--primary-blue);
            margin-bottom: 10px;
            font-size: 2.2em;
            letter-spacing: 0.5px;
        }

        /* --- Search Bar Styles --- */
        .search-container {
            padding: 20px 30px;
            margin-top: 0;
            margin-bottom: 30px;
        }
        .search-container input[type="text"] {
            width: calc(100% - 20px);
            padding: 12px 10px;
            border: 1px solid var(--search-border);
            border-radius: 8px;
            font-size: 1em;
            color: var(--text-color);
            background-color: var(--container-bg);
            transition: border-color 0.3s ease;
        }
        .search-container input[type="text"]:focus {
            outline: none;
            border-color: var(--search-focus-border);
            box-shadow: 0 0 0 3px rgba(0, 80, 140, 0.2);
        }
        .search-message {
            margin-top: 10px;
            font-size: 0.9em;
            color: var(--empty-msg-color);
            display: none; /* Hidden by default */
        }

        /* --- Personal Schedule Result Styles --- */
        .personal-schedule-result-container {
            /* This container's display is controlled by JS when search results are available */
            margin-top: 20px;
            padding: 25px;
        }
        .personal-schedule-result-container h2 {
            color: var(--primary-blue);
            margin-bottom: 25px;
            font-size: 2em;
            border-bottom: 2px solid var(--border-light);
            padding-bottom: 10px;
        }
        .personal-schedule-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Larger cards for daily view */
            gap: 15px;
            margin-top: 20px;
        }
        .daily-schedule-card {
            background-color: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 10px;
            padding: 15px;
            text-align: left;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        .daily-schedule-card h3 {
            color: var(--sub-heading-color);
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.2em;
            border-bottom: 1px dashed var(--border-light);
            padding-bottom: 5px;
        }
        .daily-schedule-card ul {
            list-style: none;
            padding: 0;
            margin: 0;
            font-size: 0.9em;
        }
        .daily-schedule-card li {
            padding: 3px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .daily-schedule-card .status-jaga { color: var(--status-jaga-color); font-weight: bold; }
        .daily-schedule-card .status-tidak-jaga { color: var(--status-tidak-jaga-color); font-weight: bold; }
        .daily-schedule-card .status-libur { color: var(--status-libur-color); font-weight: bold; }

        /* --- Dark Mode Toggle --- */
        .theme-switch-wrapper {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            margin-bottom: 20px;
            width: 100%;
            max-width: 650px;
            padding: 0 10px;
        }
        .theme-switch {
            display: inline-block;
            height: 34px;
            position: relative;
            width: 60px;
        }
        .theme-switch input {
            display: none;
        }
        .slider {
            background-color: #ccc;
            bottom: 0;
            cursor: pointer;
            left: 0;
            position: absolute;
            right: 0;
            top: 0;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            background-color: #fff;
            bottom: 4px;
            content: "";
            height: 26px;
            left: 4px;
            position: absolute;
            transition: .4s;
            width: 26px;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: var(--primary-blue);
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .slider.round {
            border-radius: 34px;
        }
        .slider.round:before {
            border-radius: 50%;
        }
        .theme-switch-wrapper span {
            margin-right: 10px;
            font-size: 0.9em;
            color: var(--text-color);
        }

        /* --- Pop-up Base Styles --- */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--popup-overlay-bg);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .popup-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .popup-content {
            background-color: var(--popup-bg);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 90%;
            text-align: center;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
            color: var(--popup-text-color);
        }
        .popup-overlay.active .popup-content {
            transform: scale(1);
        }
        .popup-close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 28px;
            font-weight: bold;
            color: var(--text-color);
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
            line-height: 1;
            transition: color 0.2s ease;
        }
        .popup-close:hover {
            color: var(--secondary-red);
        }
        .popup-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
            border: 3px solid var(--primary-blue);
        }
        .popup-name {
            font-size: 1.6em;
            font-weight: bold;
            color: var(--primary-blue);
            margin-bottom: 5px;
        }
        .popup-info {
            font-size: 1.1em;
            color: var(--popup-text-color);
        }
    </style>
</head>
<body class="light-mode">
    <div class="theme-switch-wrapper">
        <span>Dark Mode</span>
        <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
        </label>
    </div>

    <div class="main-content-wrapper">
        <nav class="navbar">
            <a href="index.html">Jadwal Harian</a>
            <a href="search.html" class="active-nav">Cari Jadwal Saya</a>
        </nav>

        <div class="container">
            <div class="header">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/TVRI_2020.svg/1200px-TVRI_2020.svg.png" alt="Logo TVRI" class="logo">
                <h1>Cari Jadwal Pribadi</h1>
                <p>Ketik nama Anda di bawah untuk melihat jadwal jaga Anda untuk seminggu ini.</p>
            </div>
        </div>

        <div class="container search-container">
            <input type="text" id="searchInput" placeholder="Ketik nama Anda di sini..." aria-label="Ketik nama untuk mencari jadwal pribadi">
            <p id="searchMessage" class="search-message">Nama tidak ditemukan.</p>
        </div>

        <div class="container personal-schedule-result-container" id="personalScheduleResultContainer">
            <h2 id="personalScheduleNameHeader">Jadwal Pribadi:</h2>
            <div class="personal-schedule-grid" id="personalScheduleGrid">
                </div>
            <p style="font-size: 0.9em; color: var(--empty-msg-color); margin-top: 15px;">Data ini diambil dari jadwal minggu ini.</p>
        </div>
    </div> <div class="popup-overlay" id="photoPopupOverlay">
        <div class="popup-content">
            <button class="popup-close" id="popupCloseBtn">&times;</button>
            <img src="" alt="Foto Karyawan" class="popup-image" id="popupImage">
            <p class="popup-name" id="popupName"></p>
            <p class="popup-info" id="popupInfo"></p>
        </div>
    </div>

    <script>
        // --- DATA JADWAL (HANYA MINGGU 1) ---
        // Ini adalah data jadwal untuk satu minggu.
        // Jika Anda perlu memperbarui untuk minggu berikutnya, Anda harus MENGEDIT DATA INI SECARA MANUAL.
        const jadwalMinggu1Juni2025 = {
            "ALVIANA DAMAYANTI": {
                "shift": {
                    "SENIN": { "shift1": "jaga", "shift2": "tidak_jaga", "shift3": "tidak_jaga" },
                    "SELASA": { "shift1": "jaga", "shift2": "tidak_jaga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" }
                },
                "info": "Divisi Admin",
                "photo": "photos/alviana_damayanti.jpg" /* Pastikan path foto benar! */
            },
            "INA APRIANA": {
                "shift": {
                    "SENIN": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SELASA": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" }
                },
                "info": "Divisi Keuangan",
                "photo": "photos/ina_apriana.jpg"
            },
            "RAHMA ELVIRA ARIYANTI": {
                "shift": {
                    "SENIN": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SELASA": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" }
                },
                "info": "Divisi HRD",
                "photo": "photos/rahma_elvira_ariyanti.jpg"
            },
            "MUH. FADIL PERKASA": {
                "shift": {
                    "SENIN": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SELASA": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SABTU": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "MINGGU": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" }
                },
                "info": "Divisi IT Support",
                "photo": "photos/muh_fadil_perkasa.jpg"
            },
            "M. ISWANSYAH NUR": {
                "shift": {
                    "SENIN": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SELASA": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SABTU": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "MINGGU": { "shift1": "jaga", "shift2": "tidak_juga", "shift3": "tidak_juga" }
                },
                "info": "Divisi Umum",
                "photo": "photos/m_iswansyah_nur.jpg"
            },
            "ABDAN SYAKURO": {
                "shift": {
                    "SENIN": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "SELASA": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" }
                },
                "info": "Divisi TI",
                "photo": "photos/abdan_syakuro.jpg"
            },
            "ANDI FAIRUL AMRI": {
                "shift": {
                    "SENIN": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "SELASA": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" }
                },
                "info": "Divisi Operasional",
                "photo": "photos/andi_fairul_amri.jpg"
            },
            "R. AULIA RAHMAN": {
                "shift": {
                    "SENIN": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SELASA": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "juga", "shift3": "tidak_juga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "juga", "shift3": "tidak_juga" }
                },
                "info": "Divisi Desain",
                "photo": "photos/r_aulia_rahman.jpg"
            },
            "RAMAZONA NABABAN": {
                "shift": {
                    "SENIN": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SELASA": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "tidak_juga", "shift2": "jaga", "shift3": "tidak_juga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "juga", "shift3": "tidak_juga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "juga", "shift3": "tidak_juga" }
                },
                "info": "Divisi Pemasaran",
                "photo": "photos/ramazona_nababan.jpg"
            },
            "ARI ARDIANSYAH": {
                "shift": {
                    "SENIN": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "SELASA": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "RABU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "juga" }
                },
                "info": "Divisi Keamanan",
                "photo": "photos/ari_ardiansyah.jpg"
            },
            "BAHRIN": {
                "shift": {
                    "SENIN": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "SELASA": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "RABU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "KAMIS": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "JUMAT": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "juga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "juga" }
                },
                "info": "Divisi Logistik",
                "photo": "photos/bahrin.jpg"
            },
            "WIDHIONO": {
                "shift": {
                    "SENIN": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SELASA": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "KAMIS": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "JUMAT": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "juga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "juga" }
                },
                "info": "Divisi Teknik",
                "photo": "photos/widhiono.jpg"
            },
            "WIRA AHMAD GAZALI": {
                "shift": {
                    "SENIN": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "SELASA": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "tidak_juga" },
                    "RABU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "KAMIS": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "JUMAT": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "jaga" },
                    "SABTU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "juga" },
                    "MINGGU": { "shift1": "tidak_juga", "shift2": "tidak_juga", "shift3": "juga" }
                },
                "info": "Divisi Produksi",
                "photo": "photos/wira_ahmad_gazali.jpg"
            }
        };

        // --- Konfigurasi Jam Shift ---
        const shiftTimes = {
            "shift1": { start: 8, end: 16, display: "Shift 1" },
            "shift2": { start: 16, end: 24, display: "Shift 2" },
            "shift3": { start: 0, end: 8, display: "Shift 3" }
        };
        const allShiftKeys = ["shift1", "shift2", "shift3"];
        const allDays = ["SENIN", "SELASA", "RABU", "KAMIS", "JUMAT", "SABTU", "MINGGU"];

        // --- Helper Functions (Duplicated for search.html) ---
        function getNamaHari(date) {
            const days = ["MINGGU", "SENIN", "SELASA", "RABU", "KAMIS", "JUMAT", "SABTU"];
            return days[date.getDay()];
        }

        // Dummy getCurrentShiftInfo needed for getJagaList even if not used for active highlight
        function getCurrentShiftInfo(hour) { 
            return { key: "dummy", name: "Dummy Shift", index: -1 };
        }

        function getJagaList(dayName, shiftKey, scheduleData) {
            const jagaNames = [];
            if (!scheduleData) return jagaNames;
            for (const nama in scheduleData) {
                const jadwalOrang = scheduleData[nama];
                if (jadwalOrang.shift && typeof jadwalOrgal.shift[dayName] === 'object' && jadwalOrang.shift[dayName] !== null) {
                    const statusShift = jadwalOrang.shift[dayName][shiftKey];
                    if (statusShift === "jaga") {
                        jagaNames.push(nama);
                    }
                }
            }
            return jagaNames;
        }

        function hidePopup(popupElement) {
            popupElement.classList.remove('active');
            if (popupElement === photoPopupOverlay) {
                popupImage.src = ""; // Clear src to prevent flashing of old image
            }
        }

        // --- Dark Mode Logic (Duplicated for search.html) ---
        const toggleSwitch = document.getElementById('checkbox');
        const currentTheme = localStorage.getItem('theme');

        if (currentTheme) {
            document.body.classList.add(currentTheme);
            if (currentTheme === 'dark-mode') {
                toggleSwitch.checked = true;
            }
        } else {
            document.body.classList.add('light-mode');
        }

        function switchTheme(e) {
            if (e.target.checked) {
                document.body.classList.remove('light-mode');
                document.body.classList.add('dark-mode');
                localStorage.setItem('theme', 'dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
                document.body.classList.add('light-mode');
                localStorage.setItem('theme', 'light-mode');
            }
        }
        toggleSwitch.addEventListener('change', switchTheme, false);

        // --- Photo Pop-up Logic (Duplicated for search.html) ---
        const photoPopupOverlay = document.getElementById('photoPopupOverlay');
        const popupImage = document.getElementById('popupImage');
        const popupName = document.getElementById('popupName');
        const popupInfo = document.getElementById('popupInfo');
        const popupCloseBtn = document.getElementById('popupCloseBtn');

        function showPhotoPopup(nama) {
            const employeeData = jadwalMinggu1Juni2025[nama]; 
            if (employeeData) {
                const photoPath = employeeData.photo && (employeeData.photo.startsWith('photos/') || employeeData.photo.startsWith('http')) ? employeeData.photo : 'https://via.placeholder.com/150?text=No+Photo';
                const infoText = employeeData.info || "Informasi tidak tersedia.";

                popupImage.src = photoPath;
                popupImage.alt = `Foto ${nama}`;
                popupName.textContent = nama;
                popupInfo.textContent = infoText;

                photoPopupOverlay.classList.add('active');
            }
        }

        photoPopupOverlay.addEventListener('click', (e) => {
            if (e.target === photoPopupOverlay) {
                hidePopup(photoPopupOverlay);
            }
        });
        popupCloseBtn.addEventListener('click', () => hidePopup(photoPopupOverlay));

        // --- Search Personal Schedule Logic (Main Logic for search.html) ---
        const searchInput = document.getElementById('searchInput');
        const searchMessage = document.getElementById('searchMessage');
        const personalScheduleResultContainer = document.getElementById('personalScheduleResultContainer');
        const personalScheduleNameHeader = document.getElementById('personalScheduleNameHeader');
        const personalScheduleGrid = document.getElementById('personalScheduleGrid');
        let searchTimeout;

        function searchPersonalSchedule() {
            const searchTerm = searchInput.value.trim();

            // Hide personal schedule and message if search term is empty
            if (searchTerm.length === 0) {
                personalScheduleResultContainer.style.display = 'none';
                searchMessage.style.display = 'none';
                return;
            }

            personalScheduleGrid.innerHTML = ''; // Clear previous results
            searchMessage.style.display = 'none'; // Hide message initially

            let foundEmployee = null;
            // Search only within jadwalMinggu1Juni2025
            for (const nama in jadwalMinggu1Juni2025) {
                if (nama.toLowerCase().includes(searchTerm.toLowerCase())) {
                    foundEmployee = nama;
                    break;
                }
            }

            if (foundEmployee) {
                const employeeData = jadwalMinggu1Juni2025[foundEmployee];
                personalScheduleNameHeader.textContent = `Jadwal Pribadi: ${foundEmployee}`;
                personalScheduleResultContainer.style.display = 'block';

                allDays.forEach(day => {
                    const dailyCard = document.createElement('div');
                    dailyCard.className = 'daily-schedule-card';

                    const dayHeader = document.createElement('h3');
                    dayHeader.textContent = day;
                    dailyCard.appendChild(dayHeader);

                    const ul = document.createElement('ul');
                    const scheduleForDay = employeeData.shift[day];

                    if (typeof scheduleForDay === 'string' && scheduleForDay === "libur") {
                        const li = document.createElement('li');
                        li.textContent = `Seluruh Hari: Libur`;
                        li.classList.add('status-libur');
                        ul.appendChild(li);
                    } else if (typeof scheduleForDay === 'object' && scheduleForDay !== null) {
                        allShiftKeys.forEach(shiftKey => {
                            const li = document.createElement('li');
                            const status = scheduleForDay[shiftKey];
                            const displayStatus = status === "jaga" ? "Jaga" : (status === "tidak_jaga" ? "Tidak Jaga" : "Tidak Diketahui");
                            const statusClass = status === "jaga" ? "status-jaga" : (status === "tidak_jaga" ? "status-tidak-jaga" : "status-libur");
                            li.innerHTML = `<span>${shiftTimes[shiftKey].display}:</span> <span class="${statusClass}">${displayStatus}</span>`;
                            ul.appendChild(li);
                        });
                    } else {
                        const li = document.createElement('li');
                        li.textContent = "Jadwal tidak tersedia.";
                        li.classList.add('status-tidak-jaga');
                        ul.appendChild(li);
                    }
                    dailyCard.appendChild(ul);
                    personalScheduleGrid.appendChild(dailyCard);
                });
            } else {
                searchMessage.textContent = `"${searchInput.value.trim()}" tidak ditemukan.`;
                searchMessage.style.display = 'block';
                personalScheduleResultContainer.style.display = 'none'; // Hide personal schedule if not found
            }
        }

        searchInput.addEventListener('input', (event) => {
            clearTimeout(searchTimeout);
            const searchTerm = event.target.value.trim();
            // If input is cleared, hide results and message immediately
            if (searchTerm.length === 0) {
                personalScheduleResultContainer.style.display = 'none';
                searchMessage.style.display = 'none';
                return;
            }
            // Debounce search
            searchTimeout = setTimeout(() => {
                searchPersonalSchedule();
            }, 300);
        });
        searchInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                searchPersonalSchedule();
            }
        });

        // --- Initial Load for search.html ---
        document.addEventListener('DOMContentLoaded', () => {
            // Check if there's a search term in the URL (for deep linking or quick search)
            const urlParams = new URLSearchParams(window.location.search);
            const initialSearchTerm = urlParams.get('q'); // e.g., search.html?q=Alviana
            if (initialSearchTerm) {
                searchInput.value = initialSearchTerm;
                searchPersonalSchedule();
            }
        });
    </script>
</body>
</html>
